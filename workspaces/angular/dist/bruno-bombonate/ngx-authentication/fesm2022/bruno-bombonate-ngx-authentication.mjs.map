{"version":3,"file":"bruno-bombonate-ngx-authentication.mjs","sources":["../../../../projects/bruno-bombonate/ngx-authentication/src/lib/authentication.service.ts","../../../../projects/bruno-bombonate/ngx-authentication/src/public-api.ts","../../../../projects/bruno-bombonate/ngx-authentication/src/bruno-bombonate-ngx-authentication.ts"],"sourcesContent":["import { Injectable, inject, PLATFORM_ID } from '@angular/core';\r\nimport { isPlatformBrowser } from '@angular/common';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AuthenticationService {\r\n\r\n  private readonly platformId = inject(PLATFORM_ID);\r\n\r\n  public setAuthentication(authentication: any, rememberMe: boolean): void {\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      authentication = JSON.stringify(authentication);\r\n      rememberMe\r\n        ? localStorage.setItem('authentication', authentication)\r\n        : sessionStorage.setItem('authentication', authentication);\r\n    }\r\n  }\r\n\r\n  public getAuthentication(): null | any {\r\n    let authentication = null;\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      const localStorageAuthentication = localStorage.getItem('authentication');\r\n      const sessionStorageAuthentication = sessionStorage.getItem('authentication');\r\n      if (localStorageAuthentication) {\r\n        authentication = JSON.parse(localStorageAuthentication);\r\n      } else if (sessionStorageAuthentication) {\r\n        authentication = JSON.parse(sessionStorageAuthentication);\r\n      }\r\n    }\r\n    return authentication;\r\n  }\r\n\r\n  public unsetAuthentication(): void {\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      localStorage.removeItem('authentication');\r\n      sessionStorage.removeItem('authentication');\r\n    }\r\n  }\r\n\r\n  public isLoggedIn(): boolean {\r\n    let isLoggedIn = false;\r\n    if (isPlatformBrowser(this.platformId)) {\r\n      const localStorageAuthentication = localStorage.getItem('authentication');\r\n      const sessionStorageAuthentication = sessionStorage.getItem('authentication');\r\n      isLoggedIn = localStorageAuthentication || sessionStorageAuthentication ? true : false;\r\n    }\r\n    return isLoggedIn;\r\n  }\r\n\r\n}\r\n","/*\r\n * Public API Surface of ngx-authentication\r\n */\r\n\r\n// services\r\nexport * from './lib/authentication.service';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;;;MAMa,qBAAqB,CAAA;AAHlC,IAAA,WAAA,GAAA;AAKmB,QAAA,IAAA,CAAA,UAAU,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC;AA0CnD,KAAA;IAxCQ,iBAAiB,CAAC,cAAmB,EAAE,UAAmB,EAAA;AAC/D,QAAA,IAAI,iBAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;AACtC,YAAA,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;YAChD,UAAU;kBACN,YAAY,CAAC,OAAO,CAAC,gBAAgB,EAAE,cAAc,CAAC;kBACtD,cAAc,CAAC,OAAO,CAAC,gBAAgB,EAAE,cAAc,CAAC,CAAC;SAC9D;KACF;IAEM,iBAAiB,GAAA;QACtB,IAAI,cAAc,GAAG,IAAI,CAAC;AAC1B,QAAA,IAAI,iBAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;YACtC,MAAM,0BAA0B,GAAG,YAAY,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;YAC1E,MAAM,4BAA4B,GAAG,cAAc,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;YAC9E,IAAI,0BAA0B,EAAE;AAC9B,gBAAA,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,0BAA0B,CAAC,CAAC;aACzD;iBAAM,IAAI,4BAA4B,EAAE;AACvC,gBAAA,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,4BAA4B,CAAC,CAAC;aAC3D;SACF;AACD,QAAA,OAAO,cAAc,CAAC;KACvB;IAEM,mBAAmB,GAAA;AACxB,QAAA,IAAI,iBAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;AACtC,YAAA,YAAY,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;AAC1C,YAAA,cAAc,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC;SAC7C;KACF;IAEM,UAAU,GAAA;QACf,IAAI,UAAU,GAAG,KAAK,CAAC;AACvB,QAAA,IAAI,iBAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;YACtC,MAAM,0BAA0B,GAAG,YAAY,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;YAC1E,MAAM,4BAA4B,GAAG,cAAc,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;AAC9E,YAAA,UAAU,GAAG,0BAA0B,IAAI,4BAA4B,GAAG,IAAI,GAAG,KAAK,CAAC;SACxF;AACD,QAAA,OAAO,UAAU,CAAC;KACnB;8GA1CU,qBAAqB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA,EAAA;AAArB,IAAA,SAAA,IAAA,CAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,qBAAqB,cAFpB,MAAM,EAAA,CAAA,CAAA,EAAA;;2FAEP,qBAAqB,EAAA,UAAA,EAAA,CAAA;kBAHjC,UAAU;AAAC,YAAA,IAAA,EAAA,CAAA;AACV,oBAAA,UAAU,EAAE,MAAM;AACnB,iBAAA,CAAA;;;ACLD;;AAEG;AAEH;;ACJA;;AAEG;;;;"}