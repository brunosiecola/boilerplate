{"version":3,"file":"bruno-bombonate-ngx-toast.mjs","sources":["../../../../projects/bruno-bombonate/ngx-toast/src/lib/interfaces/toast.interface.ts","../../../../projects/bruno-bombonate/ngx-toast/src/lib/services/toast.service.ts","../../../../projects/bruno-bombonate/ngx-toast/src/lib/components/toast/toast.component.ts","../../../../projects/bruno-bombonate/ngx-toast/src/lib/components/toast/toast.component.html","../../../../projects/bruno-bombonate/ngx-toast/src/lib/toast.module.ts","../../../../projects/bruno-bombonate/ngx-toast/src/public-api.ts","../../../../projects/bruno-bombonate/ngx-toast/src/bruno-bombonate-ngx-toast.ts"],"sourcesContent":["\r\nexport enum ToastType {\r\n  Success = 'success',\r\n  Error = 'error'\r\n}\r\n\r\nexport interface Toast {\r\n  type: ToastType;\r\n  message: string;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Subject, Observable } from 'rxjs';\r\nimport { Toast, ToastType } from '../interfaces/toast.interface';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ToastService {\r\n\r\n  private readonly _send: Subject<Toast> = new Subject();\r\n\r\n  public get send$(): Observable<Toast> {\r\n    return this._send.asObservable();\r\n  }\r\n\r\n  private set send(toast: Toast) {\r\n    this._send.next(toast);\r\n  }\r\n\r\n  public success(message: string): void {\r\n    this.send = { type: ToastType.Success, message };\r\n  }\r\n\r\n  public error(message: string): void {\r\n    this.send = { type: ToastType.Error, message };\r\n  }\r\n\r\n}\r\n","import { Component, AfterViewInit, ElementRef } from '@angular/core';\r\nimport { Toast } from '../../interfaces/toast.interface';\r\nimport { ToastService } from '../../services/toast.service';\r\nimport gsap from 'gsap';\r\n\r\n@Component({\r\n  selector: 'toast',\r\n  templateUrl: './toast.component.html'\r\n})\r\nexport class ToastComponent implements AfterViewInit {\r\n\r\n  public toastList: Toast[] = [];\r\n  \r\n  private toastAnimationInProgress: boolean = false;\r\n  private toastAnimationTimeout: undefined | any = undefined;\r\n\r\n  constructor(\r\n    private readonly toastService: ToastService,\r\n    private readonly elementRef: ElementRef\r\n  ) { }\r\n\r\n  private toastTimelineShow(): void {\r\n    if (this.toastAnimationInProgress === false) {\r\n      this.toastAnimationInProgress = true;\r\n      gsap.to(this.elementRef.nativeElement, {\r\n        duration: 0.35,\r\n        y: '0%',\r\n        onComplete: () => {\r\n          this.toastAnimationInProgress = false;\r\n          if (this.toastList.length === 1) {\r\n            this.toastAnimationTimeout = setTimeout(() => {\r\n              this.toastTimelineHide();\r\n            }, 5000);\r\n          } else {\r\n            this.toastTimelineHide();\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  private toastTimelineHide(): void {\r\n    if (this.toastAnimationInProgress === false) {\r\n      this.toastAnimationInProgress = true;\r\n      gsap.to(this.elementRef.nativeElement, {\r\n        clearProps: 'all',\r\n        opacity: 0,\r\n        onComplete: () => {\r\n          this.toastAnimationInProgress = false;\r\n          this.toastList.shift();\r\n          if (this.toastList.length !== 0) {\r\n            this.toastTimelineShow();\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  public ngAfterViewInit(): void {\r\n    this.toastService.send$\r\n      .subscribe({\r\n        next: (toast: Toast) => {\r\n          this.toastList.push(toast);\r\n          if (this.toastList.length === 1) {\r\n            this.toastTimelineShow();\r\n          } else if (this.toastList.length === 2) {\r\n            clearTimeout(this.toastAnimationTimeout);\r\n            this.toastTimelineHide();\r\n          } else {\r\n            this.toastList.splice(1, 1);\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n}\r\n","<div *ngIf=\"toastList.length !== 0\"\r\n  class=\"toast\"\r\n  [class.toast-error]=\"toastList[0].type === 'error'\"\r\n  [class.toast-success]=\"toastList[0].type === 'success'\">\r\n  {{ toastList[0].message }}\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n// components\r\nimport { ToastComponent } from './components/toast/toast.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    // components\r\n    ToastComponent\r\n  ],\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  exports: [\r\n    // components\r\n    ToastComponent\r\n  ]\r\n})\r\nexport class ToastModule { }\r\n","/*\r\n * Public API Surface of ngx-toast\r\n */\r\n\r\n// modules\r\nexport * from './lib/toast.module';\r\n\r\n// components\r\nexport * from './lib/components/toast/toast.component';\r\n\r\n// services\r\nexport * from './lib/services/toast.service';\r\n\r\n// interfaces\r\nexport * from './lib/interfaces/toast.interface';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i1.ToastService"],"mappings":"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"}